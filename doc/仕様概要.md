# 酒サーチ - 仕様概要

## プロジェクト概要
日本酒の味を視覚的に分類・比較し、個人の好みに基づくレコメンドを提供するサービス

## 核心価値（Core Value）
**飲食店・酒屋で自分の飲みたいお酒を選択しやすくする**
- 気分に合わせた選択
- 好みに合ったものの発見
- いつもと違うものへの挑戦

## 解決する課題
- **飲食店・酒屋での選択困難**: 日本酒を選ぶ際に味の雰囲気が分からない
- **記憶の曖昧さ**: 過去に飲んだお酒を忘れてしまう
- **好みの発見**: 自分の好みに近いお酒を知りたい
- **表現の不統一**: 店によって味の表現方法が異なり比較がしづらい

## 基本コンセプト
「日本酒の味を視覚的に分類し、個人の好みとマッチングする」

## 主要機能

### 1. 酒の味覚マッピング（実装済み）
- **4象限グラフ表示**: 甘辛×淡濃で視覚的分類
- **6要素レーダーチャート**: 詳細な味覚特性表示
  - 華やか度（f1）
  - 芳醇度（f2）
  - 重厚度（f3）
  - 穏やか度（f4）
  - ドライ度（f5）
  - 軽快度（f6）
- **比較機能**: 最大10件の同時比較
- **メニュースキャン**: カメラ/画像から日本酒名を自動抽出

### 2. お気に入り管理（実装済み）
- **お気に入り登録**: ワンタップでお気に入り保存
- **お気に入り一覧**: 登録した日本酒の閲覧
- **比較リスト連携**: お気に入りから直接比較追加

### 3. 飲酒記録機能（未実装）
詳細: [飲酒記録機能.md](./飲酒記録機能.md)
- **簡単記録**: 飲んだ日本酒をワンタップ記録
- **詳細メモ**: 感想・シチュエーション記録
- **統計表示**: 飲酒履歴の可視化
- **ゲーミフィケーション**: 
  - 種類数バッジ
  - 酒蔵数達成
  - 都道府県マップ制覇

### 4. 好み分析・レコメンド機能（未実装）
詳細: [好み分析・レコメンド機能.md](./好み分析・レコメンド機能.md)
- **好み分析**: お気に入りから傾向を自動分析
- **類似酒提案**: 好みに基づく新しいお酒の推奨
- **好み度予測**: 新しいお酒の好み度を予測表示
- **気分別レコメンド**: シチュエーションに応じた提案

## 技術仕様

### 実装済み機能
- **フロントエンド**: Next.js 15.4 (App Router)
- **スタイリング**: Tailwind CSS
- **データ可視化**: Chart.js (4象限、レーダーチャート)
- **画像解析**: Google Gemini Vision API
- **認証**: Supabase Auth
- **データベース**: Supabase (PostgreSQL)
- **API連携**: さけのわAPI
- **デプロイ**: Vercel

### 味覚分類システム
- **X軸**: 甘口 ↔ 辛口
- **Y軸**: 淡麗 ↔ 濃醇
- **6要素分析**: レーダーチャートで詳細表示

## データ構造

### 日本酒データ（Sake型）
```typescript
interface Sake {
  id: string;
  name: string;
  brewery: string;
  sweetness: number;    // 甘辛度
  richness: number;     // 淡濃度
  description?: string;
  flavorChart?: {
    f1: number;  // 華やか度
    f2: number;  // 芳醇度
    f3: number;  // 重厚度
    f4: number;  // 穏やか度
    f5: number;  // ドライ度
    f6: number;  // 軽快度
  };
}
```

### ユーザーデータ（Supabase）
```sql
-- お気に入りテーブル
favorites {
  id: uuid
  user_id: uuid (auth.users)
  sake_id: string
  sake_name: string
  sake_brewery: string
  sake_data: jsonb
  created_at: timestamp
}
```

## エンゲージメント戦略

### MAU向上施策
1. **飲酒記録の習慣化**
   - 簡単な記録フロー
   - リマインダー機能
   - 記録継続ボーナス

2. **ゲーミフィケーション**
   - 達成バッジシステム
   - ランキング機能
   - コレクション要素

3. **データ蓄積の好循環**
   - お気に入り増加 → レコメンド精度向上
   - 検索回数増加 → 飲酒記録増加
   - 飲酒記録増加 → お気に入り発見

## UI/UXガイドライン

### メイン画面（実装済み）
- **検索バー**: 酒名入力 + メニュースキャン
- **比較パネル**: 選択した日本酒リスト
- **4象限グラフ**: 味覚の視覚化
- **レーダーチャート**: 詳細特性表示
- **ユーザー情報**: お気に入り管理

### 飲酒記録画面（計画）
- **クイック記録**: ワンタップ登録
- **詳細入力**: 評価・メモ・写真
- **カレンダービュー**: 飲酒履歴
- **統計ダッシュボード**: 実績表示

### 好み分析画面（計画）
- **好みマップ**: 個人の傾向可視化
- **レコメンドリスト**: おすすめ表示
- **比較ビュー**: 好みとの差分表示
- **発見モード**: 新しい味への挑戦

## 成功指標
- **MAU（月間アクティブユーザー）**: 継続利用率
- **お気に入り登録数**: 1ユーザーあたり平均数
- **飲酒記録数**: 月間記録数
- **レコメンド的中率**: 実際に飲んで満足した割合
- **検索→記録変換率**: 検索後の記録率

## 今後の開発ロードマップ
1. **Phase 1**: 飲酒記録機能の実装
2. **Phase 2**: 好み分析エンジンの開発
3. **Phase 3**: レコメンドアルゴリズムの実装
4. **Phase 4**: ゲーミフィケーション要素追加
5. **Phase 5**: ソーシャル機能（共有・フォロー）