
> sake-search-nextjs@0.1.0 dev
> next dev --turbopack

 ⚠ Port 3000 is in use by process 66591, using available port 3001 instead.
   ▲ Next.js 15.4.5 (Turbopack)
   - Local:        http://localhost:3001
   - N   Reload env: .env.local
8.10.105:3001

 ✓ Starting...
 ✓ Ready in 699ms
 ○ Compiling / ...
 ✓ Compiled / in 1394ms
 GET / 200 in 1572ms
 ✓ Compiled /favicon.ico in 94ms
 GET /favicon.ico?favicon.45db1c09.ico 200 in 352ms
 ✓ Compiled /api/search in 124ms
 GET /api/search?q=%E7%8D%BA%E7%A5%AD 200 in 153ms
 GET /api/search?q=%E4%BC%AF%E6%A5%BD%E6%98%9F 200 in 41ms
 GET /api/search?q=%E4%BC%AF%E6%A5%BD%E6%98%9F 200 in 30ms
   Reload env: .env.local
 GET / 200 in 72ms
=== API Search Debug ===
Environment variable USE_SAKENOWA_API: true
USE_REAL_API flag: true
Search query: 獺祭
Attempting to use Sakenowa API...
Sakenowa API error: TypeError: brands.filter is not a function
    at searchRealSakeData (lib/sakenowaApi.ts:57:34)
    at async GET (app/api/search/route.ts:32:18)
  55 |     // 検索実行
  56 |     const normalizedQuery = query.toLowerCase().trim();
> 57 |     const matchingBrands = brands.filter((brand: Brand) => 
     |                                  ^
  58 |       brand.name.toLowerCase().includes(normalizedQuery)
  59 |     ).slice(0, 10); // 最大10件
  60 |     
Sakenowa API failed, falling back to mock data: TypeError: brands.filter is not a function
    at searchRealSakeData (lib/sakenowaApi.ts:57:34)
    at async GET (app/api/search/route.ts:32:18)
  55 |     // 検索実行
  56 |     const normalizedQuery = query.toLowerCase().trim();
> 57 |     const matchingBrands = brands.filter((brand: Brand) => 
     |                                  ^
  58 |       brand.name.toLowerCase().includes(normalizedQuery)
  59 |     ).slice(0, 10); // 最大10件
  60 |     
Using fallback mock data, found 1 results
 GET /api/search?q=%E7%8D%BA%E7%A5%AD 200 in 747ms
=== API Search Debug ===
Environment variable USE_SAKENOWA_API: true
USE_REAL_API flag: true
Search query: 伯楽星
Attempting to use Sakenowa API...
Sakenowa API error: TypeError: brands.filter is not a function
    at searchRealSakeData (lib/sakenowaApi.ts:57:34)
    at async GET (app/api/search/route.ts:32:18)
  55 |     // 検索実行
  56 |     const normalizedQuery = query.toLowerCase().trim();
> 57 |     const matchingBrands = brands.filter((brand: Brand) => 
     |                                  ^
  58 |       brand.name.toLowerCase().includes(normalizedQuery)
  59 |     ).slice(0, 10); // 最大10件
  60 |     
Sakenowa API failed, falling back to mock data: TypeError: brands.filter is not a function
    at searchRealSakeData (lib/sakenowaApi.ts:57:34)
    at async GET (app/api/search/route.ts:32:18)
  55 |     // 検索実行
  56 |     const normalizedQuery = query.toLowerCase().trim();
> 57 |     const matchingBrands = brands.filter((brand: Brand) => 
     |                                  ^
  58 |       brand.name.toLowerCase().includes(normalizedQuery)
  59 |     ).slice(0, 10); // 最大10件
  60 |     
Using fallback mock data, found 0 results
 GET /api/search?q=%E4%BC%AF%E6%A5%BD%E6%98%9F 200 in 111ms
=== API Search Debug ===
Environment variable USE_SAKENOWA_API: true
USE_REAL_API flag: true
Search query: 浦霞
Attempting to use Sakenowa API...
Sakenowa API error: TypeError: brands.filter is not a function
    at searchRealSakeData (lib/sakenowaApi.ts:57:34)
    at async GET (app/api/search/route.ts:32:18)
  55 |     // 検索実行
  56 |     const normalizedQuery = query.toLowerCase().trim();
> 57 |     const matchingBrands = brands.filter((brand: Brand) => 
     |                                  ^
  58 |       brand.name.toLowerCase().includes(normalizedQuery)
  59 |     ).slice(0, 10); // 最大10件
  60 |     
Sakenowa API failed, falling back to mock data: TypeError: brands.filter is not a function
    at searchRealSakeData (lib/sakenowaApi.ts:57:34)
    at async GET (app/api/search/route.ts:32:18)
  55 |     // 検索実行
  56 |     const normalizedQuery = query.toLowerCase().trim();
> 57 |     const matchingBrands = brands.filter((brand: Brand) => 
     |                                  ^
  58 |       brand.name.toLowerCase().includes(normalizedQuery)
  59 |     ).slice(0, 10); // 最大10件
  60 |     
Using fallback mock data, found 0 results
 GET /api/search?q=%E6%B5%A6%E9%9C%9E 200 in 138ms
 GET / 200 in 161ms
 GET /favicon.ico?favicon.45db1c09.ico 200 in 279ms
=== API Search Debug ===
Environment variable USE_SAKENOWA_API: true
USE_REAL_API flag: true
Search query: 伯楽星
Attempting to use Sakenowa API...
API Response types: { brands: 'object', breweries: 'object', flavorCharts: 'object' }
API Response structures: {
  brands: [ 'copyright', 'brands' ],
  breweries: [ 'copyright', 'breweries' ],
  flavorCharts: [ 'copyright', 'flavorCharts' ]
}
Processed data lengths: { brands: 0, breweries: 0, flavorCharts: 0 }
Found matching brands: 0
Sakenowa API success, found 0 results
 GET /api/search?q=%E4%BC%AF%E6%A5%BD%E6%98%9F 200 in 95ms
=== API Search Debug ===
Environment variable USE_SAKENOWA_API: true
USE_REAL_API flag: true
Search query: 浦霞
Attempting to use Sakenowa API...
API Response types: { brands: 'object', breweries: 'object', flavorCharts: 'object' }
API Response structures: {
  brands: [ 'copyright', 'brands' ],
  breweries: [ 'copyright', 'breweries' ],
  flavorCharts: [ 'copyright', 'flavorCharts' ]
}
Processed data lengths: { brands: 0, breweries: 0, flavorCharts: 0 }
Found matching brands: 0
Sakenowa API success, found 0 results
 GET /api/search?q=%E6%B5%A6%E9%9C%9E 200 in 38ms
=== API Search Debug ===
Environment variable USE_SAKENOWA_API: true
USE_REAL_API flag: true
Search query: 獺祭
Attempting to use Sakenowa API...
API Response types: { brands: 'object', breweries: 'object', flavorCharts: 'object' }
API Response structures: {
  brands: [ 'copyright', 'brands' ],
  breweries: [ 'copyright', 'breweries' ],
  flavorCharts: [ 'copyright', 'flavorCharts' ]
}
Processed data lengths: { brands: 0, breweries: 0, flavorCharts: 0 }
Found matching brands: 0
Sakenowa API success, found 0 results
 GET /api/search?q=%E7%8D%BA%E7%A5%AD 200 in 46ms
=== API Search Debug ===
Environment variable USE_SAKENOWA_API: true
USE_REAL_API flag: true
Search query: 獺祭
Attempting to use Sakenowa API...
API Response types: { brands: 'object', breweries: 'object', flavorCharts: 'object' }
API Response structures: {
  brands: [ 'copyright', 'brands' ],
  breweries: [ 'copyright', 'breweries' ],
  flavorCharts: [ 'copyright', 'flavorCharts' ]
}
Processed data lengths: { brands: 3167, breweries: 1733, flavorCharts: 1355 }
Found matching brands: 1
Sakenowa API success, found 1 results
 GET /api/search?q=%E7%8D%BA%E7%A5%AD 200 in 120ms
=== API Search Debug ===
Environment variable USE_SAKENOWA_API: true
USE_REAL_API flag: true
Search query: 獺祭
Attempting to use Sakenowa API...
API Response types: { brands: 'object', breweries: 'object', flavorCharts: 'object' }
API Response structures: {
  brands: [ 'copyright', 'brands' ],
  breweries: [ 'copyright', 'breweries' ],
  flavorCharts: [ 'copyright', 'flavorCharts' ]
}
Processed data lengths: { brands: 3167, breweries: 1733, flavorCharts: 1355 }
Found matching brands: 1
Sakenowa API success, found 1 results
 GET /api/search?q=%E7%8D%BA%E7%A5%AD 200 in 37ms
=== API Search Debug ===
Environment variable USE_SAKENOWA_API: true
USE_REAL_API flag: true
Search query: 浦霞
Attempting to use Sakenowa API...
API Response types: { brands: 'object', breweries: 'object', flavorCharts: 'object' }
API Response structures: {
  brands: [ 'copyright', 'brands' ],
  breweries: [ 'copyright', 'breweries' ],
  flavorCharts: [ 'copyright', 'flavorCharts' ]
}
Processed data lengths: { brands: 3167, breweries: 1733, flavorCharts: 1355 }
Found matching brands: 1
Sakenowa API success, found 1 results
 GET /api/search?q=%E6%B5%A6%E9%9C%9E 200 in 51ms
=== API Search Debug ===
Environment variable USE_SAKENOWA_API: true
USE_REAL_API flag: true
Search query: 伯楽星
Attempting to use Sakenowa API...
API Response types: { brands: 'object', breweries: 'object', flavorCharts: 'object' }
API Response structures: {
  brands: [ 'copyright', 'brands' ],
  breweries: [ 'copyright', 'breweries' ],
  flavorCharts: [ 'copyright', 'flavorCharts' ]
}
Processed data lengths: { brands: 3167, breweries: 1733, flavorCharts: 1355 }
Found matching brands: 2
Sakenowa API success, found 1 results
 GET /api/search?q=%E4%BC%AF%E6%A5%BD%E6%98%9F 200 in 39ms
=== API Search Debug ===
Environment variable USE_SAKENOWA_API: true
USE_REAL_API flag: true
Search query: 而今
Attempting to use Sakenowa API...
API Response types: { brands: 'object', breweries: 'object', flavorCharts: 'object' }
API Response structures: {
  brands: [ 'copyright', 'brands' ],
  breweries: [ 'copyright', 'breweries' ],
  flavorCharts: [ 'copyright', 'flavorCharts' ]
}
Processed data lengths: { brands: 3167, breweries: 1733, flavorCharts: 1355 }
Found matching brands: 1
Building results for 1 matching brands
Processing brand: 而今 ID: 660
Found brewery: 木屋正酒造 Found flavorChart: true
Created sake data: 而今 coordinates: { sweetness: 0.9206978787182838, richness: -0.5205091804032722 }
Final results count: 1
Sakenowa API success, found 1 results
 GET /api/search?q=%E8%80%8C%E4%BB%8A 200 in 92ms
 ✓ Compiled in 134ms
 ✓ Compiled in 49ms
 ✓ Compiled in 64ms
 ✓ Compiled in 110ms
 ✓ Compiled in 41ms
 ✓ Compiled in 104ms
 ✓ Compiled in 61ms
 ✓ Compiled in 29ms
 GET / 200 in 234ms
 GET /favicon.ico?favicon.45db1c09.ico 200 in 228ms
=== API Search Debug ===
Environment variable USE_SAKENOWA_API: true
USE_REAL_API flag: true
Search query: 伯楽星
Attempting to use Sakenowa API...
API Response types: { brands: 'object', breweries: 'object', flavorCharts: 'object' }
API Response structures: {
  brands: [ 'copyright', 'brands' ],
  breweries: [ 'copyright', 'breweries' ],
  flavorCharts: [ 'copyright', 'flavorCharts' ]
}
Processed data lengths: { brands: 3167, breweries: 1733, flavorCharts: 1355 }
Found matching brands: 2
Building results for 2 matching brands
Processing brand: 伯楽星 ID: 58
Found brewery: 新澤醸造店 Found flavorChart: true
Created sake data: 伯楽星 coordinates: { sweetness: 0.42724095256734634, richness: -0.6815774840794283 }
Processing brand: 伯楽星   特別純米  限定 ID: 3775
Found brewery:  Found flavorChart: false
Missing data for brand: 伯楽星   特別純米  限定 brewery: true flavorChart: false
Final results count: 1
Sakenowa API success, found 1 results
 GET /api/search?q=%E4%BC%AF%E6%A5%BD%E6%98%9F 200 in 42ms
=== API Search Debug ===
Environment variable USE_SAKENOWA_API: true
USE_REAL_API flag: true
Search query: 八海山
Attempting to use Sakenowa API...
API Response types: { brands: 'object', breweries: 'object', flavorCharts: 'object' }
API Response structures: {
  brands: [ 'copyright', 'brands' ],
  breweries: [ 'copyright', 'breweries' ],
  flavorCharts: [ 'copyright', 'flavorCharts' ]
}
Processed data lengths: { brands: 3167, breweries: 1733, flavorCharts: 1355 }
Found matching brands: 1
Building results for 1 matching brands
Processing brand: 八海山 ID: 380
Found brewery: 八海醸造 Found flavorChart: true
Created sake data: 八海山 coordinates: { sweetness: 0.02515925543485209, richness: -0.24744759783328518 }
Final results count: 1
Sakenowa API success, found 1 results
 GET /api/search?q=%E5%85%AB%E6%B5%B7%E5%B1%B1 200 in 50ms
=== API Search Debug ===
Environment variable USE_SAKENOWA_API: true
USE_REAL_API flag: true
Search query: 久保田
Attempting to use Sakenowa API...
API Response types: { brands: 'object', breweries: 'object', flavorCharts: 'object' }
API Response structures: {
  brands: [ 'copyright', 'brands' ],
  breweries: [ 'copyright', 'breweries' ],
  flavorCharts: [ 'copyright', 'flavorCharts' ]
}
Processed data lengths: { brands: 3167, breweries: 1733, flavorCharts: 1355 }
Found matching brands: 2
Building results for 2 matching brands
Processing brand: 久保田 ID: 431
Found brewery: 朝日酒造 Found flavorChart: true
Created sake data: 久保田 coordinates: { sweetness: 0.11716362353301829, richness: -0.4740130361733564 }
Processing brand: 久保田 紅寿 ID: 3930
Found brewery:  Found flavorChart: false
Missing data for brand: 久保田 紅寿 brewery: true flavorChart: false
Final results count: 1
Sakenowa API success, found 1 results
 GET /api/search?q=%E4%B9%85%E4%BF%9D%E7%94%B0 200 in 34ms
 ✓ Compiled in 153ms
 ✓ Compiled in 54ms
 ✓ Compiled in 53ms
 ✓ Compiled in 31ms
 GET / 200 in 213ms
 GET /favicon.ico?favicon.45db1c09.ico 200 in 239ms
=== API Search Debug ===
Environment variable USE_SAKENOWA_API: true
USE_REAL_API flag: true
Search query: 伯楽星
Attempting to use Sakenowa API...
API Response types: { brands: 'object', breweries: 'object', flavorCharts: 'object' }
API Response structures: {
  brands: [ 'copyright', 'brands' ],
  breweries: [ 'copyright', 'breweries' ],
  flavorCharts: [ 'copyright', 'flavorCharts' ]
}
Processed data lengths: { brands: 3167, breweries: 1733, flavorCharts: 1355 }
Found matching brands: 2
Building results for 2 matching brands
Processing brand: 伯楽星 ID: 58
Found brewery: 新澤醸造店 Found flavorChart: true
Created sake data: 伯楽星 coordinates: { sweetness: 0.42724095256734634, richness: -0.6815774840794283 }
Processing brand: 伯楽星   特別純米  限定 ID: 3775
Found brewery:  Found flavorChart: false
Missing data for brand: 伯楽星   特別純米  限定 brewery: true flavorChart: false
Final results count: 1
Sakenowa API success, found 1 results
 GET /api/search?q=%E4%BC%AF%E6%A5%BD%E6%98%9F 200 in 39ms
=== API Search Debug ===
Environment variable USE_SAKENOWA_API: true
USE_REAL_API flag: true
Search query: 田酒
Attempting to use Sakenowa API...
API Response types: { brands: 'object', breweries: 'object', flavorCharts: 'object' }
API Response structures: {
  brands: [ 'copyright', 'brands' ],
  breweries: [ 'copyright', 'breweries' ],
  flavorCharts: [ 'copyright', 'flavorCharts' ]
}
Processed data lengths: { brands: 3167, breweries: 1733, flavorCharts: 1355 }
Found matching brands: 2
Building results for 2 matching brands
Processing brand: 田酒 ID: 19
Found brewery: 西田酒造店 Found flavorChart: true
Created sake data: 田酒 coordinates: { sweetness: 0.3673550123958094, richness: -0.639164949819848 }
Processing brand: 町田酒造 ID: 1160
Found brewery: 町田酒造店 Found flavorChart: true
Created sake data: 町田酒造 coordinates: { sweetness: 0.43138834990949615, richness: -1.3212207574128088 }
Final results count: 2
Sakenowa API success, found 2 results
 GET /api/search?q=%E7%94%B0%E9%85%92 200 in 42ms
=== API Search Debug ===
Environment variable USE_SAKENOWA_API: true
USE_REAL_API flag: true
Search query: 八海山
Attempting to use Sakenowa API...
API Response types: { brands: 'object', breweries: 'object', flavorCharts: 'object' }
API Response structures: {
  brands: [ 'copyright', 'brands' ],
  breweries: [ 'copyright', 'breweries' ],
  flavorCharts: [ 'copyright', 'flavorCharts' ]
}
Processed data lengths: { brands: 3167, breweries: 1733, flavorCharts: 1355 }
Found matching brands: 1
Building results for 1 matching brands
Processing brand: 八海山 ID: 380
Found brewery: 八海醸造 Found flavorChart: true
Created sake data: 八海山 coordinates: { sweetness: 0.02515925543485209, richness: -0.24744759783328518 }
Final results count: 1
Sakenowa API success, found 1 results
 GET /api/search?q=%E5%85%AB%E6%B5%B7%E5%B1%B1 200 in 55ms
=== API Search Debug ===
Environment variable USE_SAKENOWA_API: true
USE_REAL_API flag: true
Search query: 伯楽星
Attempting to use Sakenowa API...
API Response types: { brands: 'object', breweries: 'object', flavorCharts: 'object' }
API Response structures: {
  brands: [ 'copyright', 'brands' ],
  breweries: [ 'copyright', 'breweries' ],
  flavorCharts: [ 'copyright', 'flavorCharts' ]
}
Processed data lengths: { brands: 3167, breweries: 1733, flavorCharts: 1355 }
Found matching brands: 2
Building results for 2 matching brands
Processing brand: 伯楽星 ID: 58
Found brewery: 新澤醸造店 Found flavorChart: true
Created sake data: 伯楽星 coordinates: { sweetness: 0.42724095256734634, richness: -0.6815774840794283 }
Processing brand: 伯楽星   特別純米  限定 ID: 3775
Found brewery:  Found flavorChart: false
Missing data for brand: 伯楽星   特別純米  限定 brewery: true flavorChart: false
Final results count: 1
Sakenowa API success, found 1 results
 GET /api/search?q=%E4%BC%AF%E6%A5%BD%E6%98%9F 200 in 46ms
=== API Search Debug ===
Environment variable USE_SAKENOWA_API: true
USE_REAL_API flag: true
Search query: 田酒
Attempting to use Sakenowa API...
API Response types: { brands: 'object', breweries: 'object', flavorCharts: 'object' }
API Response structures: {
  brands: [ 'copyright', 'brands' ],
  breweries: [ 'copyright', 'breweries' ],
  flavorCharts: [ 'copyright', 'flavorCharts' ]
}
Processed data lengths: { brands: 3167, breweries: 1733, flavorCharts: 1355 }
Found matching brands: 2
Building results for 2 matching brands
Processing brand: 田酒 ID: 19
Found brewery: 西田酒造店 Found flavorChart: true
Created sake data: 田酒 coordinates: { sweetness: 0.3673550123958094, richness: -0.639164949819848 }
Processing brand: 町田酒造 ID: 1160
Found brewery: 町田酒造店 Found flavorChart: true
Created sake data: 町田酒造 coordinates: { sweetness: 0.43138834990949615, richness: -1.3212207574128088 }
Final results count: 2
Sakenowa API success, found 2 results
 GET /api/search?q=%E7%94%B0%E9%85%92 200 in 35ms
=== API Search Debug ===
Environment variable USE_SAKENOWA_API: true
USE_REAL_API flag: true
Search query: ふなぐち
Attempting to use Sakenowa API...
API Response types: { brands: 'object', breweries: 'object', flavorCharts: 'object' }
API Response structures: {
  brands: [ 'copyright', 'brands' ],
  breweries: [ 'copyright', 'breweries' ],
  flavorCharts: [ 'copyright', 'flavorCharts' ]
}
Processed data lengths: { brands: 3167, breweries: 1733, flavorCharts: 1355 }
Found matching brands: 0
Building results for 0 matching brands
Final results count: 0
Sakenowa API success, found 0 results
 GET /api/search?q=%E3%81%B5%E3%81%AA%E3%81%90%E3%81%A1 200 in 50ms
=== API Search Debug ===
Environment variable USE_SAKENOWA_API: true
USE_REAL_API flag: true
Search query: 飛露喜
Attempting to use Sakenowa API...
API Response types: { brands: 'object', breweries: 'object', flavorCharts: 'object' }
API Response structures: {
  brands: [ 'copyright', 'brands' ],
  breweries: [ 'copyright', 'breweries' ],
  flavorCharts: [ 'copyright', 'flavorCharts' ]
}
Processed data lengths: { brands: 3167, breweries: 1733, flavorCharts: 1355 }
Found matching brands: 1
Building results for 1 matching brands
Processing brand: 飛露喜 ID: 202
Found brewery: 廣木酒造本店 Found flavorChart: true
Created sake data: 飛露喜 coordinates: { sweetness: 0.42349243251551144, richness: -0.25479161221157126 }
Final results count: 1
Sakenowa API success, found 1 results
 GET /api/search?q=%E9%A3%9B%E9%9C%B2%E5%96%9C 200 in 40ms
=== API Search Debug ===
Environment variable USE_SAKENOWA_API: true
USE_REAL_API flag: true
Search query: 鳳凰美田
Attempting to use Sakenowa API...
API Response types: { brands: 'object', breweries: 'object', flavorCharts: 'object' }
API Response structures: {
  brands: [ 'copyright', 'brands' ],
  breweries: [ 'copyright', 'breweries' ],
  flavorCharts: [ 'copyright', 'flavorCharts' ]
}
Processed data lengths: { brands: 3167, breweries: 1733, flavorCharts: 1355 }
Found matching brands: 1
Building results for 1 matching brands
Processing brand: 鳳凰美田 ID: 258
Found brewery: 小林酒造 Found flavorChart: true
Created sake data: 鳳凰美田 coordinates: { sweetness: 1.3231602609935456, richness: -0.45631153131054936 }
Final results count: 1
Sakenowa API success, found 1 results
 GET /api/search?q=%E9%B3%B3%E5%87%B0%E7%BE%8E%E7%94%B0 200 in 59ms
=== API Search Debug ===
Environment variable USE_SAKENOWA_API: true
USE_REAL_API flag: true
Search query: 東洋美人
Attempting to use Sakenowa API...
API Response types: { brands: 'object', breweries: 'object', flavorCharts: 'object' }
API Response structures: {
  brands: [ 'copyright', 'brands' ],
  breweries: [ 'copyright', 'breweries' ],
  flavorCharts: [ 'copyright', 'flavorCharts' ]
}
Processed data lengths: { brands: 3167, breweries: 1733, flavorCharts: 1355 }
Found matching brands: 1
Building results for 1 matching brands
Processing brand: 東洋美人 ID: 884
Found brewery: 澄川酒造場 Found flavorChart: true
Created sake data: 東洋美人 coordinates: { sweetness: 1.1050133633655816, richness: -0.35525511057237447 }
Final results count: 1
Sakenowa API success, found 1 results
 GET /api/search?q=%E6%9D%B1%E6%B4%8B%E7%BE%8E%E4%BA%BA 200 in 48ms
 GET / 200 in 73ms
 GET /favicon.ico?favicon.45db1c09.ico 200 in 228ms
=== API Search Debug ===
Environment variable USE_SAKENOWA_API: true
USE_REAL_API flag: true
Search query: 八海山
Attempting to use Sakenowa API...
API Response types: { brands: 'object', breweries: 'object', flavorCharts: 'object' }
API Response structures: {
  brands: [ 'copyright', 'brands' ],
  breweries: [ 'copyright', 'breweries' ],
  flavorCharts: [ 'copyright', 'flavorCharts' ]
}
Processed data lengths: { brands: 3167, breweries: 1733, flavorCharts: 1355 }
Found matching brands: 1
Building results for 1 matching brands
Processing brand: 八海山 ID: 380
Found brewery: 八海醸造 Found flavorChart: true
FlavorChart raw values for 八海山 : {
  f1: 0.27852185396134377,
  f2: 0.4453015334020905,
  f3: 0.3272625631594972,
  f4: 0.5081785855514026,
  f5: 0.43691511492380647,
  f6: 0.40974509577059226
}
Created sake data: 八海山 coordinates: { sweetness: 0.12569021452352816, richness: -1.145232593624613 }
Final results count: 1
Sakenowa API success, found 1 results
 GET /api/search?q=%E5%85%AB%E6%B5%B7%E5%B1%B1 200 in 105ms
=== API Search Debug ===
Environment variable USE_SAKENOWA_API: true
USE_REAL_API flag: true
Search query: 伯楽星
Attempting to use Sakenowa API...
API Response types: { brands: 'object', breweries: 'object', flavorCharts: 'object' }
API Response structures: {
  brands: [ 'copyright', 'brands' ],
  breweries: [ 'copyright', 'breweries' ],
  flavorCharts: [ 'copyright', 'flavorCharts' ]
}
Processed data lengths: { brands: 3167, breweries: 1733, flavorCharts: 1355 }
Found matching brands: 2
Building results for 2 matching brands
Processing brand: 伯楽星 ID: 58
Found brewery: 新澤醸造店 Found flavorChart: true
FlavorChart raw values for 伯楽星 : {
  f1: 0.42214176911966733,
  f2: 0.48548607219594486,
  f3: 0.2392063073952155,
  f4: 0.44006069365140915,
  f5: 0.34307242134016275,
  f6: 0.46639880208835827
}
Created sake data: 伯楽星 coordinates: { sweetness: 1.7335091868107222, richness: -2.1928069887568165 }
Processing brand: 伯楽星   特別純米  限定 ID: 3775
Found brewery:  Found flavorChart: false
Missing data for brand: 伯楽星   特別純米  限定 brewery: true flavorChart: false
Final results count: 1
Sakenowa API success, found 1 results
 GET /api/search?q=%E4%BC%AF%E6%A5%BD%E6%98%9F 200 in 37ms
=== API Search Debug ===
Environment variable USE_SAKENOWA_API: true
USE_REAL_API flag: true
Search query: 田酒
Attempting to use Sakenowa API...
API Response types: { brands: 'object', breweries: 'object', flavorCharts: 'object' }
API Response structures: {
  brands: [ 'copyright', 'brands' ],
  breweries: [ 'copyright', 'breweries' ],
  flavorCharts: [ 'copyright', 'flavorCharts' ]
}
Processed data lengths: { brands: 3167, breweries: 1733, flavorCharts: 1355 }
Found matching brands: 2
Building results for 2 matching brands
Processing brand: 田酒 ID: 19
Found brewery: 西田酒造店 Found flavorChart: true
FlavorChart raw values for 田酒 : {
  f1: 0.4709762258816512,
  f2: 0.4747556084454044,
  f3: 0.2526587970826324,
  f4: 0.38463573607483265,
  f5: 0.35230393764680124,
  f6: 0.46571378035591504
}
Created sake data: 田酒 coordinates: { sweetness: 1.5648461021065612, richness: -2.140098269121018 }
Processing brand: 町田酒造 ID: 1160
Found brewery: 町田酒造店 Found flavorChart: true
FlavorChart raw values for 町田酒造 : {
  f1: 0.5119437654675473,
  f2: 0.435513124191914,
  f3: 0.17513162338116475,
  f4: 0.2314828380769736,
  f5: 0.2917170075554153,
  f6: 0.6155385425187676
}
Created sake data: 町田酒造 coordinates: { sweetness: 1.7442138360035775, richness: -2.4747896321116953 }
Final results count: 2
Sakenowa API success, found 2 results
 GET /api/search?q=%E7%94%B0%E9%85%92 200 in 39ms
=== API Search Debug ===
Environment variable USE_SAKENOWA_API: true
USE_REAL_API flag: true
Search query: 鳳凰美田
Attempting to use Sakenowa API...
API Response types: { brands: 'object', breweries: 'object', flavorCharts: 'object' }
API Response structures: {
  brands: [ 'copyright', 'brands' ],
  breweries: [ 'copyright', 'breweries' ],
  flavorCharts: [ 'copyright', 'flavorCharts' ]
}
Processed data lengths: { brands: 3167, breweries: 1733, flavorCharts: 1355 }
Found matching brands: 1
Building results for 1 matching brands
Processing brand: 鳳凰美田 ID: 258
Found brewery: 小林酒造 Found flavorChart: true
FlavorChart raw values for 鳳凰美田 : {
  f1: 0.5345987244836986,
  f2: 0.630300451124963,
  f3: 0.23159984327076785,
  f4: 0.2832738949778884,
  f5: 0.18924703079378116,
  f6: 0.383703687040951
}
Created sake data: 鳳凰美田 coordinates: { sweetness: 2.4749834830274366, richness: -1.8059721526554862 }
Final results count: 1
Sakenowa API success, found 1 results
 GET /api/search?q=%E9%B3%B3%E5%87%B0%E7%BE%8E%E7%94%B0 200 in 41ms
 GET / 200 in 60ms
 GET /favicon.ico?favicon.45db1c09.ico 200 in 230ms
=== API Search Debug ===
Environment variable USE_SAKENOWA_API: true
USE_REAL_API flag: true
Search query: 新政
Attempting to use Sakenowa API...
API Response types: { brands: 'object', breweries: 'object', flavorCharts: 'object' }
API Response structures: {
  brands: [ 'copyright', 'brands' ],
  breweries: [ 'copyright', 'breweries' ],
  flavorCharts: [ 'copyright', 'flavorCharts' ]
}
Processed data lengths: { brands: 3167, breweries: 1733, flavorCharts: 1355 }
Found matching brands: 1
Building results for 1 matching brands
Processing brand: 新政 ID: 109
Found brewery: 新政酒造 Found flavorChart: true
FlavorChart raw values for 新政 : {
  f1: 0.5155770144172904,
  f2: 0.46720278471059246,
  f3: 0.273267541930842,
  f4: 0.30910242313722536,
  f5: 0.1942636499468828,
  f6: 0.5549270916168241
}
Created sake data: 新政 coordinates: { sweetness: 2.3178529997221737, richness: -2.3353544282273644 }
Final results count: 1
Sakenowa API success, found 1 results
 GET /api/search?q=%E6%96%B0%E6%94%BF 200 in 40ms
=== API Search Debug ===
Environment variable USE_SAKENOWA_API: true
USE_REAL_API flag: true
Search query: 天狗舞
Attempting to use Sakenowa API...
API Response types: { brands: 'object', breweries: 'object', flavorCharts: 'object' }
API Response structures: {
  brands: [ 'copyright', 'brands' ],
  breweries: [ 'copyright', 'breweries' ],
  flavorCharts: [ 'copyright', 'flavorCharts' ]
}
Processed data lengths: { brands: 3167, breweries: 1733, flavorCharts: 1355 }
Found matching brands: 1
Building results for 1 matching brands
Processing brand: 天狗舞 ID: 469
Found brewery: 車多酒造 Found flavorChart: true
FlavorChart raw values for 天狗舞 : {
  f1: 0.19953993962721062,
  f2: 0.5867746941430565,
  f3: 0.5370239642730316,
  f4: 0.4190738208962069,
  f5: 0.27982669234914315,
  f6: 0.27121704867460195
}
Created sake data: 天狗舞 coordinates: { sweetness: 2.377392282975999, richness: 2.302220892613161 }
Final results count: 1
Sakenowa API success, found 1 results
 GET /api/search?q=%E5%A4%A9%E7%8B%97%E8%88%9E 200 in 568ms
=== API Search Debug ===
Environment variable USE_SAKENOWA_API: true
USE_REAL_API flag: true
Search query: 神亀
Attempting to use Sakenowa API...
API Response types: { brands: 'object', breweries: 'object', flavorCharts: 'object' }
API Response structures: {
  brands: [ 'copyright', 'brands' ],
  breweries: [ 'copyright', 'breweries' ],
  flavorCharts: [ 'copyright', 'flavorCharts' ]
}
Processed data lengths: { brands: 3167, breweries: 1733, flavorCharts: 1355 }
Found matching brands: 1
Building results for 1 matching brands
Processing brand: 神亀 ID: 290
Found brewery: 神亀酒造 Found flavorChart: true
FlavorChart raw values for 神亀 : {
  f1: 0.16274622169150404,
  f2: 0.6199432733739793,
  f3: 0.5507942347037663,
  f4: 0.42156020812696526,
  f5: 0.226503388464009,
  f6: 0.23831265614494712
}
Created sake data: 神亀 coordinates: { sweetness: 2.455873955305952, richness: 2.385088334803606 }
Final results count: 1
Sakenowa API success, found 1 results
 GET /api/search?q=%E7%A5%9E%E4%BA%80 200 in 49ms
=== API Search Debug ===
Environment variable USE_SAKENOWA_API: true
USE_REAL_API flag: true
Search query: 満寿泉
Attempting to use Sakenowa API...
API Response types: { brands: 'object', breweries: 'object', flavorCharts: 'object' }
API Response structures: {
  brands: [ 'copyright', 'brands' ],
  breweries: [ 'copyright', 'breweries' ],
  flavorCharts: [ 'copyright', 'flavorCharts' ]
}
Processed data lengths: { brands: 3167, breweries: 1733, flavorCharts: 1355 }
Found matching brands: 1
Building results for 1 matching brands
Processing brand: 満寿泉 ID: 465
Found brewery: 桝田酒造店 Found flavorChart: true
FlavorChart raw values for 満寿泉 : {
  f1: 0.4126432819281252,
  f2: 0.4977894211974743,
  f3: 0.3860167076577234,
  f4: 0.43077080197532663,
  f5: 0.3067754398426239,
  f6: 0.39146859530166617
}
Created sake data: 満寿泉 coordinates: { sweetness: 2.0411314849298225, richness: -0.08174915869861925 }
Final results count: 1
Sakenowa API success, found 1 results
 GET /api/search?q=%E6%BA%80%E5%AF%BF%E6%B3%89 200 in 51ms
=== API Search Debug ===
Environment variable USE_SAKENOWA_API: true
USE_REAL_API flag: true
Search query: 久保田
Attempting to use Sakenowa API...
API Response types: { brands: 'object', breweries: 'object', flavorCharts: 'object' }
API Response structures: {
  brands: [ 'copyright', 'brands' ],
  breweries: [ 'copyright', 'breweries' ],
  flavorCharts: [ 'copyright', 'flavorCharts' ]
}
Processed data lengths: { brands: 3167, breweries: 1733, flavorCharts: 1355 }
Found matching brands: 2
Building results for 2 matching brands
Processing brand: 久保田 ID: 431
Found brewery: 朝日酒造 Found flavorChart: true
FlavorChart raw values for 久保田 : {
  f1: 0.35206339269037595,
  f2: 0.4642736773476349,
  f3: 0.28486710842867674,
  f4: 0.44989511245549524,
  f5: 0.42521913616996215,
  f6: 0.44287145381979554
}
Created sake data: 久保田 coordinates: { sweetness: 0.5753262189813462, richness: -1.8472202674861495 }
Processing brand: 久保田 紅寿 ID: 3930
Found brewery:  Found flavorChart: false
Missing data for brand: 久保田 紅寿 brewery: true flavorChart: false
Final results count: 1
Sakenowa API success, found 1 results
 GET /api/search?q=%E4%B9%85%E4%BF%9D%E7%94%B0 200 in 52ms
=== API Search Debug ===
Environment variable USE_SAKENOWA_API: true
USE_REAL_API flag: true
Search query: 越乃寒梅
Attempting to use Sakenowa API...
API Response types: { brands: 'object', breweries: 'object', flavorCharts: 'object' }
API Response structures: {
  brands: [ 'copyright', 'brands' ],
  breweries: [ 'copyright', 'breweries' ],
  flavorCharts: [ 'copyright', 'flavorCharts' ]
}
Processed data lengths: { brands: 3167, breweries: 1733, flavorCharts: 1355 }
Found matching brands: 1
Building results for 1 matching brands
Processing brand: 越乃寒梅 ID: 384
Found brewery: 石本酒造 Found flavorChart: true
FlavorChart raw values for 越乃寒梅 : {
  f1: 0.23505927944707805,
  f2: 0.40407363296010806,
  f3: 0.27675913069523006,
  f4: 0.5016458979367563,
  f5: 0.5237663448775897,
  f6: 0.4229612593676359
}
Created sake data: 越乃寒梅 coordinates: { sweetness: -1.5394148901033236, richness: -1.7625506171445102 }
Final results count: 1
Sakenowa API success, found 1 results
 GET /api/search?q=%E8%B6%8A%E4%B9%83%E5%AF%92%E6%A2%85 200 in 46ms
=== API Search Debug ===
Environment variable USE_SAKENOWA_API: true
USE_REAL_API flag: true
Search query: 久保田 千寿 特別本醸造
Attempting to use Sakenowa API...
API Response types: { brands: 'object', breweries: 'object', flavorCharts: 'object' }
API Response structures: {
  brands: [ 'copyright', 'brands' ],
  breweries: [ 'copyright', 'breweries' ],
  flavorCharts: [ 'copyright', 'flavorCharts' ]
}
Processed data lengths: { brands: 3167, breweries: 1733, flavorCharts: 1355 }
Found matching brands: 0
Building results for 0 matching brands
Final results count: 0
Sakenowa API success, found 0 results
 GET /api/search?q=%E4%B9%85%E4%BF%9D%E7%94%B0%20%E5%8D%83%E5%AF%BF%E2%80%82%E7%89%B9%E5%88%A5%E6%9C%AC%E9%86%B8%E9%80%A0 200 in 51ms
=== API Search Debug ===
Environment variable USE_SAKENOWA_API: true
USE_REAL_API flag: true
Search query: 久保田 千寿
Attempting to use Sakenowa API...
API Response types: { brands: 'object', breweries: 'object', flavorCharts: 'object' }
API Response structures: {
  brands: [ 'copyright', 'brands' ],
  breweries: [ 'copyright', 'breweries' ],
  flavorCharts: [ 'copyright', 'flavorCharts' ]
}
Processed data lengths: { brands: 3167, breweries: 1733, flavorCharts: 1355 }
Found matching brands: 0
Building results for 0 matching brands
Final results count: 0
Sakenowa API success, found 0 results
 GET /api/search?q=%E4%B9%85%E4%BF%9D%E7%94%B0%20%E5%8D%83%E5%AF%BF 200 in 40ms
=== API Search Debug ===
Environment variable USE_SAKENOWA_API: true
USE_REAL_API flag: true
Search query: 久保田千寿
Attempting to use Sakenowa API...
API Response types: { brands: 'object', breweries: 'object', flavorCharts: 'object' }
API Response structures: {
  brands: [ 'copyright', 'brands' ],
  breweries: [ 'copyright', 'breweries' ],
  flavorCharts: [ 'copyright', 'flavorCharts' ]
}
Processed data lengths: { brands: 3167, breweries: 1733, flavorCharts: 1355 }
Found matching brands: 0
Building results for 0 matching brands
Final results count: 0
Sakenowa API success, found 0 results
 GET /api/search?q=%E4%B9%85%E4%BF%9D%E7%94%B0%E5%8D%83%E5%AF%BF 200 in 41ms
=== API Search Debug ===
Environment variable USE_SAKENOWA_API: true
USE_REAL_API flag: true
Search query: 久保田
Attempting to use Sakenowa API...
API Response types: { brands: 'object', breweries: 'object', flavorCharts: 'object' }
API Response structures: {
  brands: [ 'copyright', 'brands' ],
  breweries: [ 'copyright', 'breweries' ],
  flavorCharts: [ 'copyright', 'flavorCharts' ]
}
Processed data lengths: { brands: 3167, breweries: 1733, flavorCharts: 1355 }
Found matching brands: 2
Building results for 2 matching brands
Processing brand: 久保田 ID: 431
Found brewery: 朝日酒造 Found flavorChart: true
FlavorChart raw values for 久保田 : {
  f1: 0.35206339269037595,
  f2: 0.4642736773476349,
  f3: 0.28486710842867674,
  f4: 0.44989511245549524,
  f5: 0.42521913616996215,
  f6: 0.44287145381979554
}
Created sake data: 久保田 coordinates: { sweetness: 0.5753262189813462, richness: -1.8472202674861495 }
Processing brand: 久保田 紅寿 ID: 3930
Found brewery:  Found flavorChart: false
Missing data for brand: 久保田 紅寿 brewery: true flavorChart: false
Final results count: 1
Sakenowa API success, found 1 results
 GET /api/search?q=%E4%B9%85%E4%BF%9D%E7%94%B0 200 in 41ms
=== API Search Debug ===
Environment variable USE_SAKENOWA_API: true
USE_REAL_API flag: true
Search query: 越乃寒梅
Attempting to use Sakenowa API...
API Response types: { brands: 'object', breweries: 'object', flavorCharts: 'object' }
API Response structures: {
  brands: [ 'copyright', 'brands' ],
  breweries: [ 'copyright', 'breweries' ],
  flavorCharts: [ 'copyright', 'flavorCharts' ]
}
Processed data lengths: { brands: 3167, breweries: 1733, flavorCharts: 1355 }
Found matching brands: 1
Building results for 1 matching brands
Processing brand: 越乃寒梅 ID: 384
Found brewery: 石本酒造 Found flavorChart: true
FlavorChart raw values for 越乃寒梅 : {
  f1: 0.23505927944707805,
  f2: 0.40407363296010806,
  f3: 0.27675913069523006,
  f4: 0.5016458979367563,
  f5: 0.5237663448775897,
  f6: 0.4229612593676359
}
Created sake data: 越乃寒梅 coordinates: { sweetness: -0.7181562715048896, richness: -0.877212772034435 }
Final results count: 1
Sakenowa API success, found 1 results
 GET /api/search?q=%E8%B6%8A%E4%B9%83%E5%AF%92%E6%A2%85 200 in 123ms
=== API Search Debug ===
Environment variable USE_SAKENOWA_API: true
USE_REAL_API flag: true
Search query: 久保田
Attempting to use Sakenowa API...
API Response types: { brands: 'object', breweries: 'object', flavorCharts: 'object' }
API Response structures: {
  brands: [ 'copyright', 'brands' ],
  breweries: [ 'copyright', 'breweries' ],
  flavorCharts: [ 'copyright', 'flavorCharts' ]
}
Processed data lengths: { brands: 3167, breweries: 1733, flavorCharts: 1355 }
Found matching brands: 2
Building results for 2 matching brands
Processing brand: 久保田 ID: 431
Found brewery: 朝日酒造 Found flavorChart: true
FlavorChart raw values for 久保田 : {
  f1: 0.35206339269037595,
  f2: 0.4642736773476349,
  f3: 0.28486710842867674,
  f4: 0.44989511245549524,
  f5: 0.42521913616996215,
  f6: 0.44287145381979554
}
Created sake data: 久保田 coordinates: { sweetness: 0.23432724706603658, richness: -0.9480260723467128 }
Processing brand: 久保田 紅寿 ID: 3930
Found brewery:  Found flavorChart: false
Missing data for brand: 久保田 紅寿 brewery: true flavorChart: false
Final results count: 1
Sakenowa API success, found 1 results
 GET /api/search?q=%E4%B9%85%E4%BF%9D%E7%94%B0 200 in 39ms
=== API Search Debug ===
Environment variable USE_SAKENOWA_API: true
USE_REAL_API flag: true
Search query: 十四代
Attempting to use Sakenowa API...
API Response types: { brands: 'object', breweries: 'object', flavorCharts: 'object' }
API Response structures: {
  brands: [ 'copyright', 'brands' ],
  breweries: [ 'copyright', 'breweries' ],
  flavorCharts: [ 'copyright', 'flavorCharts' ]
}
Processed data lengths: { brands: 3167, breweries: 1733, flavorCharts: 1355 }
Found matching brands: 1
Building results for 1 matching brands
Processing brand: 十四代 ID: 144
Found brewery: 高木酒造 Found flavorChart: true
FlavorChart raw values for 十四代 : {
  f1: 0.5027429323434696,
  f2: 0.5808986335618463,
  f3: 0.25745728104049914,
  f4: 0.3733320050943594,
  f5: 0.21137359906593137,
  f6: 0.3993325500557686
}
Created sake data: 十四代 coordinates: { sweetness: 2.2171502069754903, richness: -0.8512516140916169 }
Final results count: 1
Sakenowa API success, found 1 results
 GET /api/search?q=%E5%8D%81%E5%9B%9B%E4%BB%A3 200 in 42ms
=== API Search Debug ===
Environment variable USE_SAKENOWA_API: true
USE_REAL_API flag: true
Search query: 鳳凰美田
Attempting to use Sakenowa API...
API Response types: { brands: 'object', breweries: 'object', flavorCharts: 'object' }
API Response structures: {
  brands: [ 'copyright', 'brands' ],
  breweries: [ 'copyright', 'breweries' ],
  flavorCharts: [ 'copyright', 'flavorCharts' ]
}
Processed data lengths: { brands: 3167, breweries: 1733, flavorCharts: 1355 }
Found matching brands: 1
Building results for 1 matching brands
Processing brand: 鳳凰美田 ID: 258
Found brewery: 小林酒造 Found flavorChart: true
FlavorChart raw values for 鳳凰美田 : {
  f1: 0.5345987244836986,
  f2: 0.630300451124963,
  f3: 0.23159984327076785,
  f4: 0.2832738949778884,
  f5: 0.18924703079378116,
  f6: 0.383703687040951
}
Created sake data: 鳳凰美田 coordinates: { sweetness: 2.646320521987091, richness: -0.9126230626210987 }
Final results count: 1
Sakenowa API success, found 1 results
 GET /api/search?q=%E9%B3%B3%E5%87%B0%E7%BE%8E%E7%94%B0 200 in 38ms
=== API Search Debug ===
Environment variable USE_SAKENOWA_API: true
USE_REAL_API flag: true
Search query: 飛露喜
Attempting to use Sakenowa API...
API Response types: { brands: 'object', breweries: 'object', flavorCharts: 'object' }
API Response structures: {
  brands: [ 'copyright', 'brands' ],
  breweries: [ 'copyright', 'breweries' ],
  flavorCharts: [ 'copyright', 'flavorCharts' ]
}
Processed data lengths: { brands: 3167, breweries: 1733, flavorCharts: 1355 }
Found matching brands: 1
Building results for 1 matching brands
Processing brand: 飛露喜 ID: 202
Found brewery: 廣木酒造本店 Found flavorChart: true
FlavorChart raw values for 飛露喜 : {
  f1: 0.367066420743588,
  f2: 0.5048759870578838,
  f3: 0.30630992729301204,
  f4: 0.4808131685226413,
  f5: 0.3637118428860467,
  f6: 0.39124046469686913
}
Created sake data: 飛露喜 coordinates: { sweetness: 0.8469848650310229, richness: -0.5095832244231425 }
Final results count: 1
Sakenowa API success, found 1 results
 GET /api/search?q=%E9%A3%9B%E9%9C%B2%E5%96%9C 200 in 2838ms
 GET / 200 in 232ms
 GET /favicon.ico?favicon.45db1c09.ico 200 in 228ms
=== API Search Debug ===
Environment variable USE_SAKENOWA_API: true
USE_REAL_API flag: true
Search query: 伯楽星
Attempting to use Sakenowa API...
API Response types: { brands: 'object', breweries: 'object', flavorCharts: 'object' }
API Response structures: {
  brands: [ 'copyright', 'brands' ],
  breweries: [ 'copyright', 'breweries' ],
  flavorCharts: [ 'copyright', 'flavorCharts' ]
}
Processed data lengths: { brands: 3167, breweries: 1733, flavorCharts: 1355 }
Found matching brands: 2
Building results for 2 matching brands
Processing brand: 伯楽星 ID: 58
Found brewery: 新澤醸造店 Found flavorChart: true
FlavorChart raw values for 伯楽星 : {
  f1: 0.42214176911966733,
  f2: 0.48548607219594486,
  f3: 0.2392063073952155,
  f4: 0.44006069365140915,
  f5: 0.34307242134016275,
  f6: 0.46639880208835827
}
Created sake data: 伯楽星 coordinates: { sweetness: 0.8544819051346927, richness: -1.3631549681588566 }
Processing brand: 伯楽星   特別純米  限定 ID: 3775
Found brewery:  Found flavorChart: false
Missing data for brand: 伯楽星   特別純米  限定 brewery: true flavorChart: false
Final results count: 1
Sakenowa API success, found 1 results
 GET /api/search?q=%E4%BC%AF%E6%A5%BD%E6%98%9F 200 in 41ms
=== API Search Debug ===
Environment variable USE_SAKENOWA_API: true
USE_REAL_API flag: true
Search query: 乾坤一
Attempting to use Sakenowa API...
API Response types: { brands: 'object', breweries: 'object', flavorCharts: 'object' }
API Response structures: {
  brands: [ 'copyright', 'brands' ],
  breweries: [ 'copyright', 'breweries' ],
  flavorCharts: [ 'copyright', 'flavorCharts' ]
}
Processed data lengths: { brands: 3167, breweries: 1733, flavorCharts: 1355 }
Found matching brands: 1
Building results for 1 matching brands
Processing brand: 乾坤一 ID: 1247
Found brewery: 大沼酒造店 Found flavorChart: true
FlavorChart raw values for 乾坤一 : {
  f1: 0.3213019238090077,
  f2: 0.4747713765600039,
  f3: 0.2776740094253185,
  f4: 0.45027619832256455,
  f5: 0.4504165280506773,
  f6: 0.43431630723306897
}
Created sake data: 乾坤一 coordinates: { sweetness: 0.14612909105595973, richness: -0.9398537868465028 }
Final results count: 1
Sakenowa API success, found 1 results
 GET /api/search?q=%E4%B9%BE%E5%9D%A4%E4%B8%80 200 in 37ms
 ✓ Compiled in 178ms
 ✓ Compiled in 65ms
 GET / 200 in 65ms
 GET /favicon.ico?favicon.45db1c09.ico 200 in 226ms
=== API Search Debug ===
Environment variable USE_SAKENOWA_API: true
USE_REAL_API flag: true
Search query: 伯楽星
Attempting to use Sakenowa API...
API Response types: { brands: 'object', breweries: 'object', flavorCharts: 'object' }
API Response structures: {
  brands: [ 'copyright', 'brands' ],
  breweries: [ 'copyright', 'breweries' ],
  flavorCharts: [ 'copyright', 'flavorCharts' ]
}
Processed data lengths: { brands: 3167, breweries: 1733, flavorCharts: 1355 }
Found matching brands: 2
Building results for 2 matching brands
Processing brand: 伯楽星 ID: 58
Found brewery: 新澤醸造店 Found flavorChart: true
FlavorChart raw values for 伯楽星 : {
  f1: 0.42214176911966733,
  f2: 0.48548607219594486,
  f3: 0.2392063073952155,
  f4: 0.44006069365140915,
  f5: 0.34307242134016275,
  f6: 0.46639880208835827
}
Created sake data: 伯楽星 coordinates: { sweetness: 0.8544819051346927, richness: -1.3631549681588566 }
Processing brand: 伯楽星   特別純米  限定 ID: 3775
Found brewery:  Found flavorChart: false
Missing data for brand: 伯楽星   特別純米  限定 brewery: true flavorChart: false
Final results count: 1
Sakenowa API success, found 1 results
 GET /api/search?q=%E4%BC%AF%E6%A5%BD%E6%98%9F 200 in 44ms
 GET / 200 in 69ms
 GET /favicon.ico?favicon.45db1c09.ico 200 in 224ms
